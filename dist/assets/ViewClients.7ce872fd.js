import{r as s,bB as N,o as a,c as l,a as e,i as T,b as i,h as E,F as C,p as S,d as $,g as I,t as y,e as h,bC as F}from"./index.9db0d09c.js";import{T as L,_ as D}from"./BaseHeading.a9788261.js";import{a as M,c as U}from"./index.0f46e6cd.js";import{i as V}from"./index.min.8c2fa7bb.js";import{_ as g}from"./BaseInput.967d125d.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./logo.5b10267d.js";const v=t=>(S("data-v-a51134ba"),t=t(),$(),t),j={class:"d-flex gap-2 justify-content-end my-5"},P=v(()=>e("input",{type:"text",name:"",id:"",class:"form-control","data-cy":"searchClientName",placeholder:"Search Client"},null,-1)),W=v(()=>e("button",{class:"btn btn-primary","data-cy":"searchClientsButton"},[e("i",{class:"bi bi-search text-white"})],-1)),q={key:0,class:"popup"},z={class:"popup-inner"},G=v(()=>e("div",{class:"d-flex gap-3 text-secondary"},[e("i",{class:"bi bi-person-fill h4"}),e("p",{class:"h5"},"Add New Client")],-1)),H=v(()=>e("p",null,"Add a new client to Proshore",-1)),J=["onSubmit"],K=v(()=>e("button",{class:"btn btn-outline-primary mx-2","data-cy":"confirmAddingMember",form:"myForm",type:"submit"}," Add ",-1)),O={props:{loadClients:Function},setup(t){const o=t,c=s(""),d=s(""),u=s(""),x=s(""),m=s("");s(""),s([]),s(!1),N();const p=V.exports.useToast(),{loadClients:_}=o,b=s(!1);function w(){b.value=!1}async function B(){const f=N(),n={client_name:c.value,client_email:d.value,client_number:u.value,status:1};(await M(n,f)).status===200?(_(f),w()):p.info("Server Down. Please try again later.")}return(f,n)=>(a(),l(C,null,[e("div",j,[e("button",{class:"btn btn-outline-primary d-flex","data-cy":"addNewClients",onClick:n[0]||(n[0]=r=>b.value=!0)}," Add New Client "),P,W]),b.value?(a(),l("div",q,[e("div",z,[e("div",{class:"d-flex justify-content-between"},[G,e("button",{onClick:w,type:"button",class:"btn-close","data-cy":"clearFieldWhenClose"})]),H,e("form",{id:"myForm",onSubmit:T(B,["prevent"])},[i(g,{type:"text",name:"name",label:"Client name","data-cy":"clientNameBox",modelValue:c.value,"onUpdate:modelValue":n[1]||(n[1]=r=>c.value=r),error:x.value},null,8,["modelValue","error"]),i(g,{type:"email",name:"name",label:"Client Email","data-cy":"clientEmailBox",modelValue:d.value,"onUpdate:modelValue":n[2]||(n[2]=r=>d.value=r),error:m.value},null,8,["modelValue","error"]),i(g,{type:"text",name:"name",label:"Client Number","data-cy":"clientNumberBox",modelValue:u.value,"onUpdate:modelValue":n[3]||(n[3]=r=>u.value=r),error:f.Error},null,8,["modelValue","error"])],40,J),e("div",{class:"my-3 p-2"},[e("button",{class:"btn btn-outline-secondary","data-cy":"cancelAddingMember",onClick:w}," Cancel "),K])])])):E("",!0)],64))}};var Q=k(O,[["__scopeId","data-v-a51134ba"]]);const A=t=>(S("data-v-23d8eb3c"),t=t(),$(),t),R={key:0},X=A(()=>e("thead",{class:"hey"},[e("tr",{class:"border text-primary"},[e("th",null,"S.N"),e("th",null,[h("Client Name"),e("i",{class:"bi bi-arrow-down-up mx-1"})]),e("th",null,[h("Email"),e("i",{class:"bi bi-arrow-down-up mx-1"})]),e("th",null,[h("Contact Number"),e("i",{class:"bi bi-arrow-down-up mx-1"})]),e("th",null,[h("Status"),e("i",{class:"bi bi-arrow-down-up mx-1"})])])],-1)),Y=["textContent"],Z={key:1,class:"mt-5 text-primary mx-1"},ee=A(()=>e("span",null,"No clients yet. Let's get some clients.",-1)),te=[ee],ne={setup(t){const o=s([]),c=N(),d=V.exports.useToast();async function u(m){try{const p=await U(m);p.status===200&&(o.value=p.data.clients)}catch{d.error(response.data.message)}}u(c);const x=m=>m===1?"Active":"Done";return(m,p)=>(a(),l(C,null,[i(Q,{loadClients:u}),o.value.length?(a(),l("div",R,[e("table",null,[X,(a(!0),l(C,null,I(o.value,(_,b)=>(a(),l("tr",{class:"border",key:b},[e("td",null,y(b+1),1),e("td",null,y(_.client_name),1),e("td",null,y(_.client_email),1),e("td",null,y(_.client_number),1),e("td",{textContent:y(x(_.status))},null,8,Y)]))),128))])])):(a(),l("p",Z,te))],64))}};var se=k(ne,[["__scopeId","data-v-23d8eb3c"]]);const ue={setup(t){const o=F();return o.userStatus=!1,(c,d)=>(a(),l(C,null,[i(L),e("main",null,[i(D,{title:"Clients"}),i(se)])],64))}};export{ue as default};
