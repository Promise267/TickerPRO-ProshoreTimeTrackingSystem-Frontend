import{r as l,o as n,c as i,a as s,u as c,b as m,F as _,g as h,h as w,i as y,w as k,R as x,e as b,k as V,bx as E}from"./index.0c51494b.js";import{_ as R}from"./BaseFormHeading.c5c5b4bd.js";import{_ as T}from"./BaseInput.88a58503.js";import{_ as B}from"./BaseAlert.66385088.js";import{v as N}from"./validateEmail.db033d63.js";import{l as P}from"./logo.5b10267d.js";/* empty css                                                  */const S=["src"],F={class:"d-grid col-md-8 col-lg-5 mx-auto"},L={key:0},$=["onSubmit"],C=s("div",{class:"d-grid"},[s("button",{class:"btn btn-primary mt-3 text-white","data-cy":"forgetPasswordResetButton"},"Get reset link")],-1),M={class:"mt-4"},D=b(" Never mind! "),G=s("u",null," Take me back to login",-1),I={setup(K){const f=V(),t=l(""),u=l({email:t}),o=l(""),a=l([]);async function p(){o.value="",a.value="";const{isValid:d,errorMessage:r}=N(t.value);if(d||(o.value=r,t.value=""),!o.value&&a.value.length===0)try{const e=await E(t.value),{status:g,statusText:v}=e;g===200&&v==="OK"&&f.push({name:"passwordResetSent"})}catch(e){e.response.status===404?a.value.push(e.response.data.message):a.value.push(response.data.message),t.value=""}}return(d,r)=>(n(),i(_,null,[s("img",{src:c(P),alt:"Ticker logo",class:"logo"},null,8,S),s("div",F,[m(R,{title:"Reset password",shortDesc:"To reset your password, enter the email address you use to login."}),a.value.length?(n(),i("div",L,[(n(!0),i(_,null,h(a.value,e=>(n(),i("div",{key:e},[m(B,{message:e,"hex-font-color":"ff0000"},null,8,["message"])]))),128))])):w("",!0),s("form",{onSubmit:y(p,["prevent"])},[m(T,{type:"email",name:"email",label:"Email address",modelValue:u.value.email,"onUpdate:modelValue":r[0]||(r[0]=e=>u.value.email=e),error:o.value,"data-cy":"forgetPasswordEmail"},null,8,["modelValue","error"]),C,s("p",M,[D,m(c(x),{to:{name:"login"},class:"text-secondary fw-normal","data-cy":"getBackToLoginPage"},{default:k(()=>[G]),_:1})])],40,$)])],64))}};export{I as default};
