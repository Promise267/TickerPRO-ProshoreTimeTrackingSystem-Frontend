import{r as l,o as n,c as i,a as s,u as c,b as m,F as _,g as h,h as w,i as y,w as k,R as x,e as b,k as V,bx as E}from"./index.50e0bec2.js";import{_ as R}from"./BaseFormHeading.66c89bc1.js";import{_ as T,v as B}from"./validateEmail.70d09725.js";import{_ as N}from"./BaseAlert.58fa7630.js";import{l as S}from"./logo.5b10267d.js";/* empty css                                                  */const F=["src"],L={class:"d-grid col-md-8 col-lg-5 mx-auto"},P={key:0},$=["onSubmit"],C=s("div",{class:"d-grid"},[s("button",{class:"btn btn-primary mt-3 text-white","data-cy":"forgetPasswordResetButton"},"Get reset link")],-1),M={class:"mt-4"},D=b(" Never mind! "),G=s("u",null," Take me back to login",-1),H={setup(K){const f=V(),t=l(""),u=l({email:t}),o=l(""),a=l([]);async function p(){o.value="",a.value="";const{isValid:d,errorMessage:r}=B(t.value);if(d||(o.value=r,t.value=""),!o.value&&a.value.length===0)try{const e=await E(t.value),{status:v,statusText:g}=e;v===200&&g==="OK"&&f.push({name:"passwordResetSent"})}catch(e){e.response.status===404?a.value.push(e.response.data.message):a.value.push(response.data.message),t.value=""}}return(d,r)=>(n(),i(_,null,[s("img",{src:c(S),alt:"Ticker logo",class:"logo"},null,8,F),s("div",L,[m(R,{title:"Reset password",shortDesc:"To reset your password, enter the email address you use to login."}),a.value.length?(n(),i("div",P,[(n(!0),i(_,null,h(a.value,e=>(n(),i("div",{key:e},[m(N,{message:e,"hex-font-color":"ff0000"},null,8,["message"])]))),128))])):w("",!0),s("form",{onSubmit:y(p,["prevent"])},[m(T,{type:"email",name:"email",label:"Email address",modelValue:u.value.email,"onUpdate:modelValue":r[0]||(r[0]=e=>u.value.email=e),error:o.value,"data-cy":"forgetPasswordEmail"},null,8,["modelValue","error"]),C,s("p",M,[D,m(c(x),{to:{name:"login"},class:"text-secondary fw-normal","data-cy":"getBackToLogin"},{default:k(()=>[G]),_:1})])],40,$)])],64))}};export{H as default};
